use super::{addrmode::*, instruction::Instruction, operators::*};

macro_rules! instruction {
    ($name:literal, $operator:expr, $addrmode:expr, $addrtype:expr, $cycles:literal) => {
        Instruction::new(
            $name,
            Box::new($operator),
            Box::new($addrmode),
            $addrtype,
            $cycles,
        )
    };
}

pub struct Opcode(pub u8);
impl From<Opcode> for Instruction {
    fn from(opcode: Opcode) -> Instruction {
        let Opcode(id) = opcode;
        match id {
            000 => instruction!("BRK", BRK, IMM, AddrMode::IMM, 7),
            001 => instruction!("ORA", ORA, IZX, AddrMode::IZX, 6),
            002 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            003 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            004 => instruction!("???", NOP, IMP, AddrMode::IMP, 3),
            005 => instruction!("ORA", ORA, ZP0, AddrMode::ZP0, 3),
            006 => instruction!("ASL", ASL, ZP0, AddrMode::ZP0, 5),
            007 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            008 => instruction!("PHP", PHP, IMP, AddrMode::IMP, 3),
            009 => instruction!("ORA", ORA, IMM, AddrMode::IMM, 2),
            010 => instruction!("ASL", ASL, IMP, AddrMode::IMP, 2),
            011 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            012 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            013 => instruction!("ORA", ORA, ABS, AddrMode::ABS, 4),
            014 => instruction!("ASL", ASL, ABS, AddrMode::ABS, 6),
            015 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            016 => instruction!("BPL", BPL, REL, AddrMode::REL, 2),
            017 => instruction!("ORA", ORA, IZY, AddrMode::IZY, 5),
            018 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            019 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            020 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            021 => instruction!("ORA", ORA, ZPX, AddrMode::ZPX, 4),
            022 => instruction!("ASL", ASL, ZPX, AddrMode::ZPX, 6),
            023 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            024 => instruction!("CLC", CLC, IMP, AddrMode::IMP, 2),
            025 => instruction!("ORA", ORA, ABY, AddrMode::ABY, 4),
            026 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            027 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            028 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            029 => instruction!("ORA", ORA, ABX, AddrMode::ABX, 4),
            030 => instruction!("ASL", ASL, ABX, AddrMode::ABX, 7),
            031 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            032 => instruction!("JSR", JSR, ABS, AddrMode::ABS, 6),
            033 => instruction!("AND", AND, IZX, AddrMode::IZX, 6),
            034 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            035 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            036 => instruction!("BIT", BIT, ZP0, AddrMode::ZP0, 3),
            037 => instruction!("AND", AND, ZP0, AddrMode::ZP0, 3),
            038 => instruction!("ROL", ROL, ZP0, AddrMode::ZP0, 5),
            039 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            040 => instruction!("PLP", PLP, IMP, AddrMode::IMP, 4),
            041 => instruction!("AND", AND, IMM, AddrMode::IMM, 2),
            042 => instruction!("ROL", ROL, IMP, AddrMode::IMP, 2),
            043 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            044 => instruction!("BIT", BIT, ABS, AddrMode::ABS, 4),
            045 => instruction!("AND", AND, ABS, AddrMode::ABS, 4),
            046 => instruction!("ROL", ROL, ABS, AddrMode::ABS, 6),
            047 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            048 => instruction!("BMI", BMI, REL, AddrMode::REL, 2),
            049 => instruction!("AND", AND, IZY, AddrMode::IZY, 5),
            050 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            051 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            052 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            053 => instruction!("AND", AND, ZPX, AddrMode::ZPX, 4),
            054 => instruction!("ROL", ROL, ZPX, AddrMode::ZPX, 6),
            055 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            056 => instruction!("SEC", SEC, IMP, AddrMode::IMP, 2),
            057 => instruction!("AND", AND, ABY, AddrMode::ABY, 4),
            058 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            059 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            060 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            061 => instruction!("AND", AND, ABX, AddrMode::ABX, 4),
            062 => instruction!("ROL", ROL, ABX, AddrMode::ABX, 7),
            063 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            064 => instruction!("RTI", RTI, IMP, AddrMode::IMP, 6),
            065 => instruction!("EOR", EOR, IZX, AddrMode::IZX, 6),
            066 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            067 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            068 => instruction!("???", NOP, IMP, AddrMode::IMP, 3),
            069 => instruction!("EOR", EOR, ZP0, AddrMode::ZP0, 3),
            070 => instruction!("LSR", LSR, ZP0, AddrMode::ZP0, 5),
            071 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            072 => instruction!("PHA", PHA, IMP, AddrMode::IMP, 3),
            073 => instruction!("EOR", EOR, IMM, AddrMode::IMM, 2),
            074 => instruction!("LSR", LSR, IMP, AddrMode::IMP, 2),
            075 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            076 => instruction!("JMP", JMP, ABS, AddrMode::ABS, 3),
            077 => instruction!("EOR", EOR, ABS, AddrMode::ABS, 4),
            078 => instruction!("LSR", LSR, ABS, AddrMode::ABS, 6),
            079 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            080 => instruction!("BVC", BVC, REL, AddrMode::REL, 2),
            081 => instruction!("EOR", EOR, IZY, AddrMode::IZY, 5),
            082 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            083 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            084 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            085 => instruction!("EOR", EOR, ZPX, AddrMode::ZPX, 4),
            086 => instruction!("LSR", LSR, ZPX, AddrMode::ZPX, 6),
            087 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            088 => instruction!("CLI", CLI, IMP, AddrMode::IMP, 2),
            089 => instruction!("EOR", EOR, ABY, AddrMode::ABY, 4),
            090 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            091 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            092 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            093 => instruction!("EOR", EOR, ABX, AddrMode::ABX, 4),
            094 => instruction!("LSR", LSR, ABX, AddrMode::ABX, 7),
            095 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            096 => instruction!("RTS", RTS, IMP, AddrMode::IMP, 6),
            097 => instruction!("ADC", ADC, IZX, AddrMode::IZX, 6),
            098 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            099 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            100 => instruction!("???", NOP, IMP, AddrMode::IMP, 3),
            101 => instruction!("ADC", ADC, ZP0, AddrMode::ZP0, 3),
            102 => instruction!("ROR", ROR, ZP0, AddrMode::ZP0, 5),
            103 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            104 => instruction!("PLA", PLA, IMP, AddrMode::IMP, 4),
            105 => instruction!("ADC", ADC, IMM, AddrMode::IMM, 2),
            106 => instruction!("ROR", ROR, IMP, AddrMode::IMP, 2),
            107 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            108 => instruction!("JMP", JMP, IND, AddrMode::IND, 5),
            109 => instruction!("ADC", ADC, ABS, AddrMode::ABS, 4),
            110 => instruction!("ROR", ROR, ABS, AddrMode::ABS, 6),
            111 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            112 => instruction!("BVS", BVS, REL, AddrMode::REL, 2),
            113 => instruction!("ADC", ADC, IZY, AddrMode::IZY, 5),
            114 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            115 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            116 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            117 => instruction!("ADC", ADC, ZPX, AddrMode::ZPX, 4),
            118 => instruction!("ROR", ROR, ZPX, AddrMode::ZPX, 6),
            119 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            120 => instruction!("SEI", SEI, IMP, AddrMode::IMP, 2),
            121 => instruction!("ADC", ADC, ABY, AddrMode::ABY, 4),
            122 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            123 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            124 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            125 => instruction!("ADC", ADC, ABX, AddrMode::ABX, 4),
            126 => instruction!("ROR", ROR, ABX, AddrMode::ABX, 7),
            127 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            128 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            129 => instruction!("STA", STA, IZX, AddrMode::IZX, 6),
            130 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            131 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            132 => instruction!("STY", STY, ZP0, AddrMode::ZP0, 3),
            133 => instruction!("STA", STA, ZP0, AddrMode::ZP0, 3),
            134 => instruction!("STX", STX, ZP0, AddrMode::ZP0, 3),
            135 => instruction!("???", XXX, IMP, AddrMode::IMP, 3),
            136 => instruction!("DEY", DEY, IMP, AddrMode::IMP, 2),
            137 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            138 => instruction!("TXA", TXA, IMP, AddrMode::IMP, 2),
            139 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            140 => instruction!("STY", STY, ABS, AddrMode::ABS, 4),
            141 => instruction!("STA", STA, ABS, AddrMode::ABS, 4),
            142 => instruction!("STX", STX, ABS, AddrMode::ABS, 4),
            143 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            144 => instruction!("BCC", BCC, REL, AddrMode::REL, 2),
            145 => instruction!("STA", STA, IZY, AddrMode::IZY, 6),
            146 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            147 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            148 => instruction!("STY", STY, ZPX, AddrMode::ZPX, 4),
            149 => instruction!("STA", STA, ZPX, AddrMode::ZPX, 4),
            150 => instruction!("STX", STX, ZPY, AddrMode::ZPY, 4),
            151 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            152 => instruction!("TYA", TYA, IMP, AddrMode::IMP, 2),
            153 => instruction!("STA", STA, ABY, AddrMode::ABY, 5),
            154 => instruction!("TXS", TXS, IMP, AddrMode::IMP, 2),
            155 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            156 => instruction!("???", NOP, IMP, AddrMode::IMP, 5),
            157 => instruction!("STA", STA, ABX, AddrMode::ABX, 5),
            158 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            159 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            160 => instruction!("LDY", LDY, IMM, AddrMode::IMM, 2),
            161 => instruction!("LDA", LDA, IZX, AddrMode::IZX, 6),
            162 => instruction!("LDX", LDX, IMM, AddrMode::IMM, 2),
            163 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            164 => instruction!("LDY", LDY, ZP0, AddrMode::ZP0, 3),
            165 => instruction!("LDA", LDA, ZP0, AddrMode::ZP0, 3),
            166 => instruction!("LDX", LDX, ZP0, AddrMode::ZP0, 3),
            167 => instruction!("???", XXX, IMP, AddrMode::IMP, 3),
            168 => instruction!("TAY", TAY, IMP, AddrMode::IMP, 2),
            169 => instruction!("LDA", LDA, IMM, AddrMode::IMM, 2),
            170 => instruction!("TAX", TAX, IMP, AddrMode::IMP, 2),
            171 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            172 => instruction!("LDY", LDY, ABS, AddrMode::ABS, 4),
            173 => instruction!("LDA", LDA, ABS, AddrMode::ABS, 4),
            174 => instruction!("LDX", LDX, ABS, AddrMode::ABS, 4),
            175 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            176 => instruction!("BCS", BCS, REL, AddrMode::REL, 2),
            177 => instruction!("LDA", LDA, IZY, AddrMode::IZY, 5),
            178 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            179 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            180 => instruction!("LDY", LDY, ZPX, AddrMode::ZPX, 4),
            181 => instruction!("LDA", LDA, ZPX, AddrMode::ZPX, 4),
            182 => instruction!("LDX", LDX, ZPY, AddrMode::ZPY, 4),
            183 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            184 => instruction!("CLV", CLV, IMP, AddrMode::IMP, 2),
            185 => instruction!("LDA", LDA, ABY, AddrMode::ABY, 4),
            186 => instruction!("TSX", TSX, IMP, AddrMode::IMP, 2),
            187 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            188 => instruction!("LDY", LDY, ABX, AddrMode::ABX, 4),
            189 => instruction!("LDA", LDA, ABX, AddrMode::ABX, 4),
            190 => instruction!("LDX", LDX, ABY, AddrMode::ABY, 4),
            191 => instruction!("???", XXX, IMP, AddrMode::IMP, 4),
            192 => instruction!("CPY", CPY, IMM, AddrMode::IMM, 2),
            193 => instruction!("CMP", CMP, IZX, AddrMode::IZX, 6),
            194 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            195 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            196 => instruction!("CPY", CPY, ZP0, AddrMode::ZP0, 3),
            197 => instruction!("CMP", CMP, ZP0, AddrMode::ZP0, 3),
            198 => instruction!("DEC", DEC, ZP0, AddrMode::ZP0, 5),
            199 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            200 => instruction!("INY", INY, IMP, AddrMode::IMP, 2),
            201 => instruction!("CMP", CMP, IMM, AddrMode::IMM, 2),
            202 => instruction!("DEX", DEX, IMP, AddrMode::IMP, 2),
            203 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            204 => instruction!("CPY", CPY, ABS, AddrMode::ABS, 4),
            205 => instruction!("CMP", CMP, ABS, AddrMode::ABS, 4),
            206 => instruction!("DEC", DEC, ABS, AddrMode::ABS, 6),
            207 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            208 => instruction!("BNE", BNE, REL, AddrMode::REL, 2),
            209 => instruction!("CMP", CMP, IZY, AddrMode::IZY, 5),
            210 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            211 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            212 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            213 => instruction!("CMP", CMP, ZPX, AddrMode::ZPX, 4),
            214 => instruction!("DEC", DEC, ZPX, AddrMode::ZPX, 6),
            215 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            216 => instruction!("CLD", CLD, IMP, AddrMode::IMP, 2),
            217 => instruction!("CMP", CMP, ABY, AddrMode::ABY, 4),
            218 => instruction!("NOP", NOP, IMP, AddrMode::IMP, 2),
            219 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            220 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            221 => instruction!("CMP", CMP, ABX, AddrMode::ABX, 4),
            222 => instruction!("DEC", DEC, ABX, AddrMode::ABX, 7),
            223 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            224 => instruction!("CPX", CPX, IMM, AddrMode::IMM, 2),
            225 => instruction!("SBC", SBC, IZX, AddrMode::IZX, 6),
            226 => instruction!("???", NOP, IMP, AddrMode::IMP, 2),
            227 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            228 => instruction!("CPX", CPX, ZP0, AddrMode::ZP0, 3),
            229 => instruction!("SBC", SBC, ZP0, AddrMode::ZP0, 3),
            230 => instruction!("INC", INC, ZP0, AddrMode::ZP0, 5),
            231 => instruction!("???", XXX, IMP, AddrMode::IMP, 5),
            232 => instruction!("INX", INX, IMP, AddrMode::IMP, 2),
            233 => instruction!("SBC", SBC, IMM, AddrMode::IMM, 2),
            234 => instruction!("NOP", NOP, IMP, AddrMode::IMP, 2),
            235 => instruction!("???", SBC, IMP, AddrMode::IMP, 2),
            236 => instruction!("CPX", CPX, ABS, AddrMode::ABS, 4),
            237 => instruction!("SBC", SBC, ABS, AddrMode::ABS, 4),
            238 => instruction!("INC", INC, ABS, AddrMode::ABS, 6),
            239 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            240 => instruction!("BEQ", BEQ, REL, AddrMode::REL, 2),
            241 => instruction!("SBC", SBC, IZY, AddrMode::IZY, 5),
            242 => instruction!("???", XXX, IMP, AddrMode::IMP, 2),
            243 => instruction!("???", XXX, IMP, AddrMode::IMP, 8),
            244 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            245 => instruction!("SBC", SBC, ZPX, AddrMode::ZPX, 4),
            246 => instruction!("INC", INC, ZPX, AddrMode::ZPX, 6),
            247 => instruction!("???", XXX, IMP, AddrMode::IMP, 6),
            248 => instruction!("SED", SED, IMP, AddrMode::IMP, 2),
            249 => instruction!("SBC", SBC, ABY, AddrMode::ABY, 4),
            250 => instruction!("NOP", NOP, IMP, AddrMode::IMP, 2),
            251 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
            252 => instruction!("???", NOP, IMP, AddrMode::IMP, 4),
            253 => instruction!("SBC", SBC, ABX, AddrMode::ABX, 4),
            254 => instruction!("INC", INC, ABX, AddrMode::ABX, 7),
            255 => instruction!("???", XXX, IMP, AddrMode::IMP, 7),
        }
    }
}
